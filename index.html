<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Cloudydict by wnyc</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Cloudydict</h1>
	<p>Cloud file storage for humans</p>

        <p class="view"><a href="https://github.com/wnyc/cloudydict">View the Project on GitHub <small>wnyc/cloudydict</small></a></p>


        <ul>
          <li><a href="https://github.com/wnyc/cloudydict/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/wnyc/cloudydict/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/wnyc/cloudydict">View On <strong>GitHub</strong></a></li>
          <li><a href="https://pypi.python.org/pypi/cloudydict">View On <strong>Pypi</strong></a></li>
	  <li><a href="django.html">Now with <strong>Django</strong> support</a></li>


        </ul>
      </header>
      <section>
        <h1>
<a name="cloudydict" class="anchor" href="#cloudydict"><span class="octicon octicon-link"></span></a>Cloud based storage made super simple</h1>

<p>Cloudydict is a simple python module that makes accessing cloudfiles as easy as using a dictionary.  With cloudydict, gone are worries about proprietary APIS and vendor lockin.  No matter whom your vendor, everything looks like a dictionary. </p>


<h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Its on Pypi.  Just run this:</p>

<pre><code>$ pip install --upgrade cloudydict
</code></pre>


<h2>
<a name="tutorial" class="anchor" href="#tutorial"><span class="octicon octicon-link"></span></a>Tutorial</h2>

<p>Assuming you've setup
your <a href="code.google.com/p/boto/wiki/BotoConfig"><strong>.boto</strong>
configuration file</a>, working with S3 and cloudydict is as simple
as:</p>

<pre><code>&gt;&gt;&gt; from cloudydict import cloudydict         
&gt;&gt;&gt; d = cloudydict('s3:cloudydict-demo') # Choose your own bucket name
</code></pre>

<p>The returned cloudydict object acts like a dictionary.  Items can be added.</p>

<pre><code>
&gt;&gt;&gt; d['a'] = 'Hello world'         
&gt;&gt;&gt; d['b'] = 'How are you?'          
&gt;&gt;&gt; d.keys()         
[u'a', u'b']    
&gt;&gt;&gt; 'c' in d
False
&gt;&gt;&gt; 'a' in d
True
&gt;&gt;&gt; 'd' in d
False
&gt;&gt;&gt; d.update(dict(d='你好世界'))
&gt;&gt;&gt; 'd' in d
True
</code></pre>

<p>Retrieval from cloudydict is lazy.  Values are returned as
cloudydict objects that can be treated either as strings or files.</p>

<pre><code>
>>> d['a']
&lt;cloudydict.s3.RemoteObject instance at 0x2466b00&gt;

&gt;&gt;&gt; len(d['d'].read())
12
&gt;&gt;&gt; import sys, codec
&gt;&gt;&gt; sys.stdout = codecs.getwriter('utf8')(sys.stdout)   
&gt;&gt;&gt; print d['d'].decode('UTF-8')
你好世界
&gt;&gt;&gt; d.values()
[&lt;cloudydict.s3.RemoteObject instance at 0x2362ea8&gt;, 
 &lt;cloudydict.s3.RemoteObject instance at 0x235cf38&gt;] 
&gt;&gt;&gt; d.items()
[(u'a', &lt;cloudydict.s3.RemoteObject instance at 0x23c2a70&gt;),
 (u'b', &lt;cloudydict.s3.RemoteObject instance at 0x23c2560&gt;)]
</code></pre>

<p><code>__setitem__ </code> calls against cloudydict will accept a python string, file or another cloudydict <code>RemoteObject</code>.   If an assignment is made from a compatible remote object, cloudydict will perform the copy using the cloud's underlying bucket to bucket copy commands.   
</p>
<pre><code>
&gt;&gt;&gt; d['c'] = d['b']  # Does not download d['b']
&gt;&gt;&gt; str(d['c'])   # Well, this does
'world'   
</code></pre>

<p>Lastly cloudydict supports a number of non standard but cloud
specific operations.  Not all cloud vendors support these, but for
those that do, you can make files public and retrieve their url.</p>

<pre><code>
&gt;&gt;&gt; d['c'].make_public() 
&gt;&gt;&gt; d['c'].url
cloudydict-demo.s3-website-us-east-1.amazonaws.com/c
</code></pre>



<p>Cloudydict comes with a Django Storage Server.   To free yourself from using your local file system to service content, just make the following small changes to your settings file:</p>

<pre><code>

DEFAULT_FILE_STORAGE = 'cloudydict.django_storage.StorageFromSettings'

<i>CLOUDYDICT_STORAGE_SERVER_SECRETS = ('service:container', ... credentials ... ) </i>

# For S3 this would looke like
CLOUDYDICT_STORAGE_SERVER_OPTIONS_SECRET = ('s3:blab-blab', &lt;aws user&gt;, &lt;aws secret key&gt;)

</code></pre>


      </section>
      <footer>
	<p>Written by <a href="https://adamdeprince.wordpress.com">Adam DePrince</a></p>
        <p>Maintained by <a href="http://www.nypublicradio.org/">New York Public Radio</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>

    
  </body>
</html>
